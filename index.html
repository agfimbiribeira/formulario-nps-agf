<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesquisa de Neg√≥cios - AGF BAIRRO IMBIRIBEIRA</title>
    <style>
        :root {
            --cor-azul-correios: #00416B;
            --cor-amarelo-correios: #FFDA00;
            --cor-azul-claro-correios: #0083CA;
            --cor-amarelo-hover: #e6c200;
            --cor-fundo: #f0f2f5;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--cor-fundo); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 1em; box-sizing: border-box; }
        .container { background: white; padding: 2.5em; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.1); width: 100%; max-width: 600px; text-align: center; }
        h1 { color: var(--cor-azul-correios); font-size: 1.8em; margin-top: 0; margin-bottom: 0.5em; }
        .description { color: #555; margin-bottom: 2em; font-size: 1.1em; line-height: 1.6; }
        .form-group { margin-bottom: 1.5em; text-align: left; }
        .checkbox-group label, .radio-group label { font-weight: normal; margin-left: 0.5em; }
        .checkbox-group div, .radio-group div { margin-bottom: 0.5em; }
        #businessQuestions { display: none; border-top: 1px solid #eee; margin-top: 2em; padding-top: 2em; }
        label { display: block; margin-bottom: 0.7em; font-weight: 600; color: #333; }
        input[type="text"], input[type="number"], select, textarea { width: 100%; padding: 0.9em; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; font-size: 1em; }
        button { width: 100%; padding: 1em; margin-top: 1.5em; background-color: var(--cor-amarelo-correios); color: var(--cor-azul-correios); border: none; border-radius: 6px; font-size: 1.1em; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        button:hover { background-color: var(--cor-amarelo-hover); transform: translateY(-2px); }
        #message { text-align: center; margin-top: 1.5em; font-weight: bold; min-height: 1.2em; font-size: 1.1em; }
        .success { color: #28a745; }
        .error { color: #dc3545; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Vamos conhecer melhor o seu neg√≥cio?</h1>
        <p class="description">Ol√°! üòä Para oferecermos um servi√ßo ainda melhor, queremos entender suas necessidades. Leva s√≥ 2 minutinhos!</p>
        
        <form id="businessForm">
            <div class="form-group">
                <label for="nomeCliente">Seu nome ou nome da empresa:</label>
                <input type="text" id="nomeCliente" name="Nome do Cliente" required>
            </div>
            <div class="form-group radio-group">
                <label>Voc√™ vende produtos online?</label>
                <div>
                    <input type="radio" id="vendeSim" name="Vende Online" value="Sim" required>
                    <label for="vendeSim">Sim</label>
                </div>
                <div>
                    <input type="radio" id="vendeNao" name="Vende Online" value="N√£o">
                    <label for="vendeNao">N√£o</label>
                </div>
            </div>

            <div id="businessQuestions">
                <div class="form-group checkbox-group">
                    <label>Quais plataformas de e-commerce voc√™ utiliza?</label>
                    <div><input type="checkbox" id="p_shopify" name="Plataformas" value="Shopify"><label for="p_shopify">Shopify</label></div>
                    <div><input type="checkbox" id="p_nuvemshop" name="Plataformas" value="Nuvemshop"><label for="p_nuvemshop">Nuvemshop</label></div>
                    <div><input type="checkbox" id="p_loja" name="Plataformas" value="Loja Integrada"><label for="p_loja">Loja Integrada</label></div>
                    <div><input type="checkbox" id="p_woo" name="Plataformas" value="WooCommerce"><label for="p_woo">WooCommerce</label></div>
                    <div><input type="checkbox" id="p_outro" name="Plataformas" value="Outra"><label for="p_outro">Outra</label></div>
                </div>
                <div class="form-group checkbox-group">
                    <label>E marketplaces, voc√™ vende em algum destes?</label>
                    <div><input type="checkbox" id="m_meli" name="Marketplaces" value="Mercado Livre"><label for="m_meli">Mercado Livre</label></div>
                    <div><input type="checkbox" id="m_amazon" name="Marketplaces" value="Amazon"><label for="m_amazon">Amazon</label></div>
                    <div><input type="checkbox" id="m_magalu" name="Marketplaces" value="Magalu"><label for="m_magalu">Magalu</label></div>
                    <div><input type="checkbox" id="m_shopee" name="Marketplaces" value="Shopee"><label for="m_shopee">Shopee</label></div>
                    <div><input type="checkbox" id="m_outro" name="Marketplaces" value="Outro"><label for="m_outro">Outro</label></div>
                </div>
                <div class="form-group checkbox-group">
                    <label>Voc√™ utiliza algum sistema de gest√£o (ERP)?</label>
                    <div><input type="checkbox" id="e_bling" name="ERPs" value="Bling"><label for="e_bling">Bling</label></div>
                    <div><input type="checkbox" id="e_tiny" name="ERPs" value="TinyERP"><label for="e_tiny">TinyERP</label></div>
                    <div><input type="checkbox" id="e_outro" name="ERPs" value="Outro"><label for="e_outro">Outro</label></div>
                    <div><input type="checkbox" id="e_nao" name="ERPs" value="N√£o utilizo"><label for="e_nao">N√£o utilizo</label></div>
                </div>
                <div class="form-group radio-group">
                    <label>Voc√™ utiliza os servi√ßos dos Correios em todas as plataformas que vende?</label>
                    <div><input type="radio" id="usaSim" name="Usa Correios em Todas" value="Sim"><label for="usaSim">Sim</label></div>
                    <div><input type="radio" id="usaNao" name="Usa Correios em Todas" value="N√£o"><label for="usaNao">N√£o, uso outras transportadoras tamb√©m</label></div>
                </div>
                <div class="form-group">
                    <label for="enviosMes">Qual sua m√©dia de envios mensais pelos Correios?</label>
                    <select id="enviosMes" name="Envios por M√™s">
                        <option value="1-10">1 a 10</option>
                        <option value="11-50">11 a 50</option>
                        <option value="51-100">51 a 100</option>
                        <option value="101-500">101 a 500</option>
                        <option value="Mais de 500">Mais de 500</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="importancia">De 0 a 10, qual a import√¢ncia dos Correios para o seu neg√≥cio?</label>
                    <input type="number" id="importancia" name="Import√¢ncia dos Correios" min="0" max="10">
                </div>
                <div class="form-group">
                    <label for="sugestoes">Tem alguma sugest√£o ou servi√ßo que gostaria que oferec√™ssemos?</label>
                    <textarea id="sugestoes" name="Sugest√µes"></textarea>
                </div>
            </div>

            <button type="submit" id="submitButton">Enviar Resposta</button>
            <p id="message"></p>
        </form>
    </div>
    <script>
        const form = document.getElementById('businessForm');
        const submitButton = document.getElementById('submitButton');
        const messageDiv = document.getElementById('message');
        const businessQuestionsDiv = document.getElementById('businessQuestions');
        const vendeOnlineRadios = document.querySelectorAll('input[name="Vende Online"]');
        
        // COLE A SUA NOVA URL DO SCRIPT AQUI
        const scriptURL = 'SUA_NOVA_URL_AQUI'; 

        vendeOnlineRadios.forEach(radio => {
            radio.addEventListener('change', (event) => {
                if (event.target.value === 'Sim') {
                    businessQuestionsDiv.style.display = 'block';
                } else {
                    businessQuestionsDiv.style.display = 'none';
                }
            });
        });

        form.addEventListener('submit', e => {
            e.preventDefault();
            submitButton.disabled = true;
            submitButton.textContent = 'Enviando...';
            
            const formData = new FormData(form);
            const plataformas = Array.from(document.querySelectorAll('input[name="Plataformas"]:checked')).map(cb => cb.value).join(', ');
            const marketplaces = Array.from(document.querySelectorAll('input[name="Marketplaces"]:checked')).map(cb => cb.value).join(', ');
            const erps = Array.from(document.querySelectorAll('input[name="ERPs"]:checked')).map(cb => cb.value).join(', ');

            formData.set('Plataformas', plataformas);
            formData.set('Marketplaces', marketplaces);
            formData.set('ERPs', erps);
            formData.append('Data/Hora', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
            
            fetch(scriptURL, { method: 'POST', body: formData })
                .then(response => response.json())
                .then(data => {
                    if(data.result === 'success'){
                        messageDiv.textContent = 'Obrigado por suas respostas!';
                        messageDiv.className = 'success';
                        form.reset();
                        businessQuestionsDiv.style.display = 'none';
                    } else { throw new Error(data.message || 'Erro desconhecido'); }
                })
                .catch(error => {
                    messageDiv.textContent = 'Erro ao enviar. Tente novamente.';
                    messageDiv.className = 'error';
                })
                .finally(() => {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Enviar Resposta';
                });
        });
    </script>
</body>
</html>
